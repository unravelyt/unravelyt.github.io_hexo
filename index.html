<!DOCTYPE html><html lang="default" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Unravely</title><meta name="author" content="一只草履虫"><meta name="copyright" content="一只草履虫"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="最重要的事情就是開心">
<meta property="og:type" content="website">
<meta property="og:title" content="Unravely">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Unravely">
<meta property="og:description" content="最重要的事情就是開心">
<meta property="og:locale">
<meta property="og:image" content="https://cdn.staticaly.com/gh/unravelyt/image-hosting@master/2022/09/a1.agxptimguo4.webp">
<meta property="article:author" content="一只草履虫">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.staticaly.com/gh/unravelyt/image-hosting@master/2022/09/a1.agxptimguo4.webp"><link rel="shortcut icon" href="https://cdn.staticaly.com/gh/unravelyt/image-hosting/master/base_img/logo_y.webp"><link rel="canonical" href="http://example.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?53242c018d62786ff7244610783daec5";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":700},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://fastly.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://fastly.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Unravely',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-10-01 16:59:53'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom-css/head.css"><meta name="generator" content="Hexo 6.0.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.staticaly.com/gh/unravelyt/image-hosting@master/2022/09/a1.agxptimguo4.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">54</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.staticaly.com/gh/unravelyt/image-hosting/master/base_img/bgeye.6f6hm50w8200.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Unravely</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Unravely</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/10/01/%E8%A7%A3%E5%86%B3GitHub%E8%AE%BF%E9%97%AE%E6%85%A2/" title="解决GitHub访问慢">解决GitHub访问慢</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-10-01T08:03:05.986Z" title="Created 2022-10-01 16:03:05">2022-10-01</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-10-01T08:08:33.258Z" title="Updated 2022-10-01 16:08:33">2022-10-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/4-%E5%90%84%E7%A7%8D%E5%A4%87%E5%BF%98/">4.各种备忘</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Github/">Github</a></span></div><div class="content">GitHub访问慢或者无法访问一般是由以下问题引起的：

本地网络访问慢，科学上网速度很快
本地网络无法访问（响应时间过长导致无法访问）
由于github的加速分发CDN域名assets-cdn.github.com遭到DNS污染，无法访问

1. 修改本地hosts映射
域名解析直接指向GitHub的IP地址，以此来绕过DNS解析

1.1 查看最新GitHub 的最新ip地址在 ip地址查询 网站中查询GitHub相关的网站对应的最新IP地址

github.com
github.global.ssl.fastly.net
assets-cdn.github.com
codeload.github.com

在当前网站中查询指定网站ip地址还可以使用另外方法:
①直接将网站作为参数进行请求，省略点击查询的步骤：

websites.ipaddress.com&#x2F;github.glob…
websites.ipaddress.com&#x2F;github.com
websites.ipaddress.com&#x2F;assets-cdn.…
websites.ipaddress.com&#x2F;codeload.gi…

②将ip查询网站拼接在之后进行查询

github.global.ssl.fastly.net.ipaddress.com&#x2F;
github.com.ipaddress.com&#x2F;
assets-cdn.github.com.ipaddress.com&#x2F;
codeload.github.com.ipaddress.com&#x2F;

1.2 本地hosts文件映射ip地址找到对应的IP地址后，将IP地址与网站地址进行对应，并将对应关系写入本地hosts文件中。
在windows系统中的c:/Windows/System32/drivers/etc 下找到hosts文件，编辑打开，将四个网站的IP地址和网站地址对应写入进入，作为DNS的映射。
hosts文件直接编辑修改时可能没有权限，可以通过以下方法完成修改：

修改当前文件权限，右键hosts文件 -&gt; 属性 -&gt; 安全 -&gt; 编辑 -&gt; Users -&gt; Users的权限后加入写权限
将当前文件复制到别的盘中，修改文件后复 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/09/19/42.linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E8%AE%B0%E5%BD%95/" title="Linux常用命令记录">Linux常用命令记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-09-19T11:07:17.629Z" title="Created 2022-09-19 19:07:17">2022-09-19</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-09-19T11:08:07.658Z" title="Updated 2022-09-19 19:08:07">2022-09-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/4-%E5%90%84%E7%A7%8D%E5%A4%87%E5%BF%98/">4.各种备忘</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Linux/">Linux</a></span></div><div class="content">要整数时间
1、查看时间段日志：sed -n ‘&#x2F;起始时间&#x2F;,&#x2F;结束时间&#x2F;p’ 日志文件
1sed -n &#x27;/2021-05-21 10:08/,/2021-05-21 10:09/p&#x27; nohup.out

2、指定时间点的日志，并导出到单独文件中
1sed -n &#x27;/2021-05-21 10:08/,/2021-05-21 10:09/p&#x27; nohup.out &gt; nohup0521.out</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/09/19/37.spring%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86/" title="Spring事务使用及失效场景">Spring事务使用及失效场景</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-09-19T10:37:38.489Z" title="Created 2022-09-19 18:37:38">2022-09-19</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-09-19T10:52:48.517Z" title="Updated 2022-09-19 18:52:48">2022-09-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/2-%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3/">2.代码相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Spring/">Spring</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Transaction/">Transaction</a></span></div><div class="content">
参考：
https://blog.csdn.net/mccand1234/article/details/124571619
https://blog.csdn.net/zzhongcy/article/details/102893309

一、事务定义事务，就是一组操作数据库的动作集合。事务是现代数据库理论中的核心概念之一。如果一组处理步骤或者全部发生或者一步也不执行，我们称该组处理步骤为一个事务。当所有的步骤像一个操作一样被完整地执行，我们称该事务被提交。由于其中的一部分或多步执行失败，导致没有步骤被提交，则事务必须回滚到最初的系统状态。
1.事务特点ACID1.原子性(Atomicity)：一个事务中所有对数据库的操作是一个不可分割的操作序列，要么全做要么全不做
2.一致性(Consistency)：数据不会因为事务的执行而遭到破坏
3.隔离性(Isolation)：一个事物的执行，不受其他事务的干扰，即并发执行的事物之间互不干扰
4.持久性(Durability)：一个事物一旦提交，它对数据库的改变就是永久的。
2.spring事务 Spring 为事务管理提供了丰富的功能支持。Spring 事务管理分为编码式和声明式的两种方式。
   （1）编程式事务指的是通过编码方式实现事务；
   （2）声明式事务基于 AOP,将具体业务逻辑与事务处理解耦。
​    声明式事务管理使业务代码逻辑不受污染, 因此在实际使用中声明式事务用的比较多。
   声明式事务有两种方式：
​    （1）一种是在配置文件（xml）中做相关的事务规则声明，
​    （2）另一种是基于@Transactional 注解的方式。
3.开启事务
方式1：在 xml 配置中的事务配置信息

12345&lt;tx:annotation-driven /&gt;&lt;bean id=&quot;transactionManager&quot;class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;	&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;&lt;/bean&gt;

 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/09/19/35.Stream%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/" title="JDK8的stream常用方法记录">JDK8的stream常用方法记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-09-19T09:28:58.178Z" title="Created 2022-09-19 17:28:58">2022-09-19</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-09-19T09:35:05.930Z" title="Updated 2022-09-19 17:35:05">2022-09-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/2-%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3/">2.代码相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Stream/">Stream</a></span></div><div class="content">
都说用的多自然就记住了，但是还是有用的少的方法，但是很巧妙，需要的时候还得去查，用一个记一个吧。别人的博文：https://www.exception.site/java8/java8-stream-tutorial

1. 从对象集合中根据id找唯一的元素12345678910111213141516171819202122public static void main(String[] args) &#123;    List&lt;SampleEntity&gt; list = new ArrayList&lt;&gt;();    for (int i = 0; i &lt; 5; i++) &#123;        SampleEntity sampleEntity = new SampleEntity();        sampleEntity.setId(i);        sampleEntity.setName(&quot;name&quot;+i);        list.add(sampleEntity);    &#125;    //查出id为3的元素    SampleEntity one = list.stream().filter(        s -&gt; s.getId() == 3    ).findFirst().orElseThrow(RuntimeException::new);        System.out.println(&quot;findFirst().get()=&quot;+sampleEntity);        //根据id删除某个元素    boolean b = list.removeIf(s -&gt; s.getId().equals(3));    System.out.println(&quot;removeIf=&quot;+b);    System.out.println(list);&#125;



</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/09/19/34.%E6%B3%A8%E8%A7%A3@SuppressWarnings%E4%BD%9C%E7%94%A8/" title="注解@SuppressWarnings作用">注解@SuppressWarnings作用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-09-19T09:22:40.933Z" title="Created 2022-09-19 17:22:40">2022-09-19</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-09-19T09:22:23.083Z" title="Updated 2022-09-19 17:22:23">2022-09-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/4-%E5%90%84%E7%A7%8D%E5%A4%87%E5%BF%98/">4.各种备忘</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%B3%A8%E8%A7%A3/">注解</a></span></div><div class="content">在写代码的时候，不论是导入的包，还是声明的对象，有时候会出现黄线，感觉就很难受！@SuppressWarnings注解主要用在取消一些编译器产生的警告对代码左侧行列的遮挡，只是为了解决强迫症的注解，无任何逻辑作用。



关键字
用途



all
to suppress all warnings （抑制所有警告）


boxing
to suppress warnings relative to boxing&#x2F;unboxing operations （抑制装箱、拆箱操作时候的警告）


cast
to suppress warnings relative to cast operations （抑制映射相关的警告）


dep-ann
to suppress warnings relative to deprecated annotation （抑制启用注释的警告）


deprecation
to suppress warnings relative to deprecation （抑制过期方法警告）


fallthrough
to suppress warnings relative to missing breaks in switch statements （抑制确在switch中缺失breaks的警告）


finally
to suppress warnings relative to finally block that don’t return （抑制finally模块没有返回的警告）


hiding
to suppress warnings relative to locals that hide variable（抑制相对于隐藏变量的局部变量的警告）


incomplete-switch
to suppress warnings relative to missing entries in a switch statement (enum case)（忽略没有完整的switch语句）


nls
to suppress warnings relative to non-nls string literals（ 忽略非nls格式的字符）


null
to suppress warnings relative to null an ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/09/13/40.JVM%E7%9B%B8%E5%85%B3/" title="JVM相关">JVM相关</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-09-13T02:29:24.011Z" title="Created 2022-09-13 10:29:24">2022-09-13</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-09-19T10:53:59.343Z" title="Updated 2022-09-19 18:53:59">2022-09-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/2-%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3/">2.代码相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JDK/">JDK</a></span></div><div class="content">常量池、字符串常量池和运行时常量池的区别
https://blog.csdn.net/TQ20160412/article/details/123815809

1. 常量池常量池（Constant Pool），也叫 class 常量池（Class Constant Pool）。
java文件被编译成 class 文件后，class 文件中除了包含类的版本、字段、方法、接口等描述信息外，还有一项就是常量池（Constant Pool），用于存放编译器生成的各种字面量（ Literal ）和 符号引用（Symbolic References）。每个class文件都有一个class常量池。

字面量（ Literal ）：就是我们所说的常量概念，如文本字符串、被声明为final的常量值等。
字面量包括：（1）文本字符串； （2）八种基本类型的值；（3）被声明为final的常量等


符号引用（Symbolic References）：是一组符号来描述所引用的目标，符号可以是任何形式的字面量，只要使用时能无歧义地定位到目标即可。
符号引用一般包括下面三类常量：（1）类和接口的全限定名；（2）字段的名称和描述符；（3）方法的名称和描述符；



2. 字符串常量池字符串常量池（String Pool），即 String Literal Pool ， 又叫全局字符串池。
在类加载完成，经过验证，准备阶段之后，在堆中生成字符串对象实例，然后将该字符串对象实例的引用值存到 String Pool 中。String Pool 中存的是引用值，而不是具体的实例对象，具体的实例对象是在堆中开辟的一块空间存放。
在 HotSpot VM 里实现的 String Pool 功能的是一个 StringTable 类，它是一个哈希表，里面存的是驻留字符的引用（而不是驻留字符串实例本身），也就是说在堆中的某些字符串实例被这个 StringTable 引用之后就等同被赋予了”驻留字符串”的身份。这个 StringTable 在每个 HotSpot VM 的实例只有一份，被所有的类共享。
举例说明:
1234567891011121314151617public static void main(String []args) &#123;    String str1 = &quot;abc&quo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/09/11/36.ThreadLocal/" title="ThreadLocal使用和了解">ThreadLocal使用和了解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-09-11T08:27:03.599Z" title="Created 2022-09-11 16:27:03">2022-09-11</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-09-19T10:55:16.489Z" title="Updated 2022-09-19 18:55:16">2022-09-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/2-%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3/">2.代码相关</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/ThreadLocal/">ThreadLocal</a></span></div><div class="content">
参考：https://blog.csdn.net/weixin_39791386/article/details/109977273

1. 多线程下的SimpleDateFormat1.1 案例多线程下不建议使用SimpleDateFormat，因为SimpleDateFormat是线程不安全的类，一般不要定义为static变量，如果定义为static，必须加锁，或者使用 DateUtils 工具类；
12345678910111213141516171819202122public static void main(String[] args) throws InterruptedException &#123;    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);    CountDownLatch countDownLatch = new CountDownLatch(10);    for (int i = 0; i &lt; 10; i++) &#123;        CompletableFuture.runAsync(() -&gt; &#123;            //先获取当前时间的格式化字符串            String str1 = simpleDateFormat.format(new Date());            try &#123;                //在通过格式化字符串再操作一次                Date parseDate = simpleDateFormat.parse(str1);                String str2 = simpleDateFormat.format(parseDate);                //对比前后格式化字符串是否一致                System.out.println(String.format(&quot;threadId = %s , 前 = %s , 后 = %s&quot;, Thread.currentThread().getId(), str1, str2)); ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/09/01/48.java%E9%94%81%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/" title="锁分类">锁分类</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-09-01T09:03:26.492Z" title="Created 2022-09-01 17:03:26">2022-09-01</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-09-19T11:23:50.295Z" title="Updated 2022-09-19 19:23:50">2022-09-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/4-%E5%90%84%E7%A7%8D%E5%A4%87%E5%BF%98/">4.各种备忘</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Lock/">Lock</a></span></div><div class="content">
https://cloud.tencent.com/developer/article/1953236

Java中锁分为以下几种：

乐观锁、悲观锁
自旋锁、适应性自旋锁
锁升级(无锁 -&gt; 偏向锁 -&gt; 轻量级锁 -&gt; 重量级锁) 
公平锁、非公平锁
可重入锁
独享锁、共享锁
互斥锁、读写锁

乐观锁 &amp; 悲观锁两种锁只是一种概念。

悲观锁适合写操作多的场景，先加锁可以保证写操作时数据正确。
乐观锁适合读操作多的场景，不加锁的特点能够使其读操作的性能大幅提升。

乐观锁：概念：乐观锁认为一个线程去拿数据的时候不会有其他线程对数据进行更改，所以不会上锁。实现：CAS机制、版本号机制。以Atomic开头的包装类，例如AtomicBoolean，AtomicInteger，AtomicLong。
悲观锁：概念：悲观锁认为一个线程去拿数据时一定会有其他线程对数据进行更改。所以一个线程在拿数据的时候都会顺便加锁，这样别的线程此时想拿这个数据就会阻塞。
实现：加锁。Java中，synchronized关键字和Lock的实现类都是悲观锁。
Synchronized关键字会让没有得到锁资源的线程进入BLOCKED状态，而后在争夺到锁资源后恢复为RUNNABLE状态，这个过程中涉及到操作系统用户模式和内核模式的转换，代价比较高。
尽管Java1.6为Synchronized做了优化，增加了从偏向锁到轻量级锁再到重量级锁的过度，但是在最终转变为重量级锁之后，性能仍然较低。
行锁与表锁当执行 select ... for update时，将会把数据锁住，因此，我们需要注意一下锁的级别。MySQL InnoDB 默认为行级锁。当查询语句指定了主键时，MySQL会执行「行级锁」，否则MySQL会执行「表锁」。
常见情况如下：

若明确指明主键，且结果集有数据，行锁；
若明确指明主键，结果集无数据，则无锁；
若无主键，且非主键字段无索引，则表锁；
若使用主键但主键不明确，则使用表锁；

1select * from tbl_user where id&lt;&gt;1 for update; 

小结： innoDB的行锁是通过给索引上的索引项加锁实现的，因此，只有通过索引检索数据，才会采用行锁，否则使用的是表锁。
线程嵌套造成死锁一个死锁问题的分析
现象：当 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.staticaly.com/gh/unravelyt/image-hosting@master/2022/09/a1.agxptimguo4.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">一只草履虫</div><div class="author-info__description">最重要的事情就是開心</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">54</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">好记性不如烂笔头，好脑子不如二进制</div></div><div class="sticky_layout"><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/1-%E8%AE%A1%E5%88%92%E6%80%BB%E7%BB%93/"><span class="card-category-list-name">1.计划总结</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/2-%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3/"><span class="card-category-list-name">2.代码相关</span><span class="card-category-list-count">20</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/3-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"><span class="card-category-list-name">3.环境搭建</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/4-%E5%90%84%E7%A7%8D%E5%A4%87%E5%BF%98/"><span class="card-category-list-name">4.各种备忘</span><span class="card-category-list-count">24</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/5-%E8%AF%BE%E5%A4%96%E7%9F%A5%E8%AF%86/"><span class="card-category-list-name">5.课外知识</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/6-%E7%94%9F%E6%B4%BB%E6%9D%82%E8%B0%88/"><span class="card-category-list-name">6.生活杂谈</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/hexo/" style="font-size: 1.15em; color: rgb(27, 170, 1)">hexo</a><a href="/tags/Docker/" style="font-size: 1.38em; color: rgb(169, 12, 80)">Docker</a><a href="/tags/Nexus/" style="font-size: 1.15em; color: rgb(92, 60, 163)">Nexus</a><a href="/tags/Maven/" style="font-size: 1.3em; color: rgb(15, 85, 198)">Maven</a><a href="/tags/VMware/" style="font-size: 1.15em; color: rgb(165, 132, 61)">VMware</a><a href="/tags/Git/" style="font-size: 1.3em; color: rgb(22, 64, 197)">Git</a><a href="/tags/Gitee/" style="font-size: 1.15em; color: rgb(35, 166, 69)">Gitee</a><a href="/tags/Github/" style="font-size: 1.3em; color: rgb(31, 158, 120)">Github</a><a href="/tags/Nginx/" style="font-size: 1.15em; color: rgb(126, 98, 27)">Nginx</a><a href="/tags/Nacos/" style="font-size: 1.15em; color: rgb(164, 21, 37)">Nacos</a><a href="/tags/Postgres/" style="font-size: 1.22em; color: rgb(166, 142, 17)">Postgres</a><a href="/tags/Redis/" style="font-size: 1.15em; color: rgb(194, 179, 22)">Redis</a><a href="/tags/Kafka/" style="font-size: 1.15em; color: rgb(191, 100, 73)">Kafka</a><a href="/tags/xxl-job/" style="font-size: 1.15em; color: rgb(61, 82, 178)">xxl-job</a><a href="/tags/ElasticSearch/" style="font-size: 1.3em; color: rgb(1, 128, 123)">ElasticSearch</a><a href="/tags/CDN/" style="font-size: 1.15em; color: rgb(21, 68, 171)">CDN</a><a href="/tags/%E5%9B%BE%E5%BA%8A/" style="font-size: 1.22em; color: rgb(50, 119, 121)">图床</a><a href="/tags/Markdown/" style="font-size: 1.22em; color: rgb(121, 108, 144)">Markdown</a><a href="/tags/Excel/" style="font-size: 1.15em; color: rgb(142, 43, 170)">Excel</a><a href="/tags/Java/" style="font-size: 1.45em; color: rgb(125, 2, 129)">Java</a><a href="/tags/try-with-resources/" style="font-size: 1.15em; color: rgb(35, 181, 64)">try-with-resources</a><a href="/tags/%E7%A4%BE%E4%BC%9A/" style="font-size: 1.15em; color: rgb(76, 144, 148)">社会</a><a href="/tags/Thread/" style="font-size: 1.3em; color: rgb(163, 104, 182)">Thread</a><a href="/tags/LocalDateTime/" style="font-size: 1.15em; color: rgb(179, 137, 146)">LocalDateTime</a><a href="/tags/JavaSE/" style="font-size: 1.15em; color: rgb(39, 60, 85)">JavaSE</a><a href="/tags/JavaWeb/" style="font-size: 1.15em; color: rgb(66, 175, 85)">JavaWeb</a><a href="/tags/%E8%AE%A1%E5%88%92-%E6%80%BB%E7%BB%93/" style="font-size: 1.15em; color: rgb(9, 12, 41)">计划&总结</a><a href="/tags/SpringBoot/" style="font-size: 1.15em; color: rgb(162, 110, 135)">SpringBoot</a><a href="/tags/CLassLoader/" style="font-size: 1.15em; color: rgb(64, 20, 75)">CLassLoader</a><a href="/tags/Linux/" style="font-size: 1.38em; color: rgb(164, 171, 126)">Linux</a><a href="/tags/Shell/" style="font-size: 1.3em; color: rgb(14, 9, 197)">Shell</a><a href="/tags/MyBatis/" style="font-size: 1.22em; color: rgb(42, 78, 135)">MyBatis</a><a href="/tags/XML/" style="font-size: 1.15em; color: rgb(30, 59, 64)">XML</a><a href="/tags/MySQL/" style="font-size: 1.15em; color: rgb(105, 2, 81)">MySQL</a><a href="/tags/Windows/" style="font-size: 1.15em; color: rgb(165, 38, 111)">Windows</a><a href="/tags/RestTemplate/" style="font-size: 1.15em; color: rgb(188, 130, 87)">RestTemplate</a><a href="/tags/OkHttp/" style="font-size: 1.15em; color: rgb(160, 49, 181)">OkHttp</a><a href="/tags/IO%E6%B5%81/" style="font-size: 1.15em; color: rgb(140, 178, 199)">IO流</a><a href="/tags/Spring-Retry/" style="font-size: 1.15em; color: rgb(36, 83, 172)">Spring Retry</a><a href="/tags/Spring/" style="font-size: 1.3em; color: rgb(99, 130, 75)">Spring</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">October 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">September 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/08/"><span class="card-archive-list-date">August 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">July 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">June 2022</span><span class="card-archive-list-count">16</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">May 2022</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">March 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">November 2021</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">54</div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">266.8k</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-10-01T08:59:53.464Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By 一只草履虫</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://fastly.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://fastly.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://fastly.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = ["此生此夜不長好"]
        sub.unshift(data.hitokoto, from)
        window.typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: false,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = data.hitokoto
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://fastly.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><script id="canvas_nest" defer="defer" color="255,255,255" opacity="1" zIndex="-1" count="99" mobile="false" src="https://fastly.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://fastly.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://fastly.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="Java,C,C艹,C#,Python,GO,PHP,Ruby,SQL,Curl,JavaScript,HTML,XML,R,Lua,Scala,Erlang,Perl,Swift,Objective-C,Visual Basic,Lisp" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>